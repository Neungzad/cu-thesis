extends layout

block content  
  .row
    .col-sm-8
      .tab-bar-warpper
        .row
          .col-sm-6
            h4.pull-left Top Questions
            p.filter-title Filter difficulty level
            ul.pull-left.list-inline.filter-bar
              li
                a(href=(tab) ? './?filter=&tab='+tab : './?filter=' 
                  class=(!filter) ? 'active' : undefined) no filter 
              li 
                a(href=(tab) ? './?filter=easy&tab='+tab : './?filter=easy' 
                  class=(filter == 'easy') ? 'active' : undefined) easy
              li 
                a(href=(tab) ? './?filter=normal&tab='+tab : './?filter=normal' 
                  class=(filter == 'normal') ? 'active' : undefined) normal
              li 
                a(href=(tab) ? './?filter=hard&tab='+tab : './?filter=hard'
                  class=(filter == 'hard') ? 'active' : undefined) hard
          .col-sm-6
            ul.pull-right.list-inline.tab-bar
              li
                a(href=(filter) ? './?filter='+filter+'&tab=activity' : './?tab=activity' 
                  class=(tab == 'activity') ? 'active' : undefined) activity 
              li
                a(href=(filter) ? './?filter='+filter+'&tab=creation' : './?tab=creation' 
                  class=(tab == 'creation') ? 'active' : undefined) creation 
              li
                a(href=(filter) ? './?filter='+filter+'&tab=hot' : './?tab=hot' 
                  class=(tab == 'hot') ? 'active' : undefined) hot
              li
                a(href=(filter) ? './?filter='+filter+'&tab=week' : './?tab=week' 
                  class=(tab == 'week') ? 'active' : undefined) week 
              li
                a(href=(filter) ? './?filter='+filter+'&tab=month' : './?tab=month'
                  class=(tab == 'month') ? 'active' : undefined) month

      each question in questions
        .q-card
          .row
            .col-sm-3
              .row
                .col-sm-4.text-center 
                  p.digit #{question.score}
                  if question.score > 1
                    p.txtCount votes
                  else
                    p.txtCount vote                    
                .col-sm-4.text-center(class=(question.is_answered) ? 'accepted' : (question.answer_count > 1) ? 'answered' : undefined)
                  p.digit #{question.answer_count}
                  if question.answer_count > 1
                    p.txtCount answers
                  else
                    p.txtCount answer
                .col-sm-4.text-center
                  p.digit #{question.view_count}
                  if question.view_count > 1
                    p.txtCount views
                  else
                    p.txtCount view
                
            .col-sm-9
              // title      
              .row
                .col-sm-8
                  a.question-title(href=(question.link) target='_blank') #{question.title}
                .col-sm-4.text-right
                  .score-warpper
                    p.diff-sc #{question.difScore}
                    p.diff-sub Score
                  .lv-box
                    p.text-lv #{question.difLv}
                    p.sub-lv DIFFICULTY LEVEL

              // des
              p.body-markdown #{question.body_markdown}

              .row
                // tags 
                .col-sm-8
                  each tag in question.tags
                    span.tag #{tag}
                .col-sm-4.text-right
                  span.last-active last activity #{question.timeAgo}
        
    .col-sm-4
      include sidebar