[{"Id":23569441,"AcceptedAnswerId":23569891,"AnswerCount":16,"Body":"<p><strong>What I am looking for:</strong></p>\n\n<p>A way to style one <strong>HALF</strong> of a character. (In this case, half the letter being transparent)</p>\n\n<p><strong>What I have currently searched for and tried (With no luck):</strong></p>\n\n<ul>\n<li>Methods for styling half of a character/letter</li>\n<li>Styling part of a character with CSS or JavaScript</li>\n<li>Apply CSS to 50% of a character</li>\n</ul>\n\n<p>Below is an example of what I am trying to obtain.</p>\n\n<p><img src=\"http://i.stack.imgur.com/SaH8v.png\" alt=\"x\"></p>\n\n<p>Does a CSS or JavaScript solution exist for this, or am I going to have to resort to images? I would prefer not to go the image route as this text will end up being generated dynamically.</p>\n\n<hr>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>Since many have asked why I would ever want to style half of a character, this is why. My city had recently spent $250,000 to define a new \"brand\" for itself. This <strong><a href=\"http://halifaxdefined.ca/img/halifax_logo_new.png\">logo</a></strong> is what they came up with. Many people have complained about the simplicity and lack of creativity and continue to do so. My goal was to come up with this <strong><a href=\"http://gameovercancer.ca/tests/brandgenerator/\">website</a></strong> as a joke. Type in 'Halifax' and you will see what I mean. :)</p>\n","ClosedDate":null,"CommentCount":54,"CommunityOwnedDate":null,"CreationDate":"2014-05-09T16:16:57.336Z","FavoriteCount":769,"LastActivityDate":"2016-01-14T14:50:56.733Z","LastEditDate":"2015-12-18T19:27:36.446Z","LastEditorDisplayName":null,"LastEditorUserId":4838695,"OwnerUserId":3009513,"ParentId":0,"PostTypeId":1,"Score":1530,"Tags":"<javascript><html><css><styling>","Title":"Is it possible to apply CSS to half of a character?","ViewCount":147841},{"Id":33050174,"AcceptedAnswerId":33050249,"AnswerCount":2,"Body":"<p>I'm trying to connect my javascript and php files and I get no element error and I couldn't figure out. Thanks for help in advance!\n+anyone can recommend ways to debug these..?</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;AJAX!!!!&lt;/title&gt;\n&lt;meta charset=\"utf-8\"/&gt;\n&lt;link href=\"main.css\" rel=\"stylesheet\" type=\"text/css\"/&gt;\n\n&lt;/head&gt;\n\n&lt;body&gt;\n\n&lt;h1&gt;HOME&lt;/h1&gt;\n\n&lt;h4&gt;Enter Your ID&lt;/h4&gt;\n\n&lt;p&gt;summoners name: &lt;input type=\"text\" id=\"summonerName\"&gt;&lt;/p&gt;\n&lt;button id=\"sumName\"&gt;Search!&lt;/button&gt;\n\n&lt;button id=\"renewData\"&gt; Renew Data&lt;/button&gt;\n\n&lt;button id=\"testing\"&gt; Renew Data&lt;/button&gt;\n\n&lt;div id=\"result\"&gt;Display result&lt;/div&gt;\n\n&lt;script src=\"jquery/jquery.js\"&gt;&lt;/script&gt;\n\n\n&lt;script type = \"text/javascript\"&gt;\n\n$(document).ready(function(){\n\n$('#testing').on('click', function(){\n\n    $.ajax({\n      type : 'GET',\n      url: 'test.php',\n      data : {str: $(\"#summonerName\").val()},\n      success: function (msg) {\n         $('#result').html(\"hh\");\n      },\n      error: function (XMLHttpRequest, textStatus, errorThrown) {\n            alert(errorThrown);\n        }\n      });\n\n});\n</code></pre>\n\n<p>});</p>\n\n<p>});</p>\n\n<p></p>\n\n<p>\n</p>\n\n<p>and my php file</p>\n\n<pre><code>&lt;?php\n\n    if ($_GET['str']) : \n        echo \"yes\";\n    endif;\n?&gt;\n</code></pre>\n\n<p>had to delete some functions in javascript part</p>\n","ClosedDate":null,"CommentCount":48,"CommunityOwnedDate":null,"CreationDate":"2015-10-10T04:09:20.283Z","FavoriteCount":0,"LastActivityDate":"2015-10-10T08:50:54.043Z","LastEditDate":"2015-10-10T05:12:59.936Z","LastEditorDisplayName":null,"LastEditorUserId":5045173,"OwnerUserId":5045173,"ParentId":0,"PostTypeId":1,"Score":0,"Tags":"<javascript><php><jquery><ajax>","Title":"no element error on ajaxing to php file","ViewCount":39},{"Id":35457902,"AcceptedAnswerId":35460007,"AnswerCount":2,"Body":"<p>These days i went through difficult times, i tried to implement a jquery plugin called elevate zoom but couldn't succeed thought this might be the problem with jQuery plugin and switched to implement Cloud Zoom but had no luck yet.:( I placed all the scripts needed by this plugin into my view and also the css as you can see my view code:</p>\n\n<pre><code>@{\n    ViewBag.Title = \"Zoom\";\n    Layout = \"~/Views/Shared/_Layout.cshtml\";\n}\n\n\n\n    &lt;title&gt;Cloud Zoom&lt;/title&gt;\n    &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" /&gt;\n\n    &lt;!-- Include jQuery. --&gt;\n    &lt;script type=\"text/javascript\" src=\"~/Scripts/jquery-1.10.2.min.js\"&gt;&lt;/script&gt;\n\n    &lt;!-- Include Cloud Zoom CSS. --&gt;\n    &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"~/Content/cloudzoom.css\" /&gt;\n\n    &lt;!-- Include Cloud Zoom script. --&gt;\n    &lt;script type=\"text/javascript\" src=\"~/Scripts/cloudzoom.js\"&gt;&lt;/script&gt;\n\n    &lt;!-- Call quick start function. --&gt;\n    &lt;script type=\"text/javascript\"&gt;\n        $(function(){CloudZoom.quickStart();})\n    &lt;/script&gt;\n\n    &lt;!-- Setup the zoomImage property to point to the big image. --&gt;\n    &lt;img class=\"cloudzoom\" src=\"~/images/small/image1.jpg\"\n         data-cloudzoom=\"zoomImage: '~/images/large/image1.jpg'\" /&gt;\n</code></pre>\n\n<p>Layout code:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;meta charset=\"utf-8\" /&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt;\n    &lt;title&gt;@ViewBag.Title - My ASP.NET Application&lt;/title&gt;\n    @Styles.Render(\"~/Content/css\")\n    @Scripts.Render(\"~/bundles/modernizr\")\n\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div class=\"navbar navbar-inverse navbar-fixed-top\"&gt;\n        &lt;div class=\"container\"&gt;\n            &lt;div class=\"navbar-header\"&gt;\n                &lt;button type=\"button\" class=\"navbar-toggle\" data-toggle=\"collapse\" data-target=\".navbar-collapse\"&gt;\n                    &lt;span class=\"icon-bar\"&gt;&lt;/span&gt;\n                    &lt;span class=\"icon-bar\"&gt;&lt;/span&gt;\n                    &lt;span class=\"icon-bar\"&gt;&lt;/span&gt;\n                &lt;/button&gt;\n                @Html.ActionLink(\"Application name\", \"Index\", \"Home\", new { area = \"\" }, new { @class = \"navbar-brand\" })\n            &lt;/div&gt;\n            &lt;div class=\"navbar-collapse collapse\"&gt;\n                &lt;ul class=\"nav navbar-nav\"&gt;\n                    &lt;li&gt;@Html.ActionLink(\"Home\", \"Index\", \"Home\")&lt;/li&gt;\n                    &lt;li&gt;@Html.ActionLink(\"About\", \"About\", \"Home\")&lt;/li&gt;\n                    &lt;li&gt;@Html.ActionLink(\"Contact\", \"Contact\", \"Home\")&lt;/li&gt;\n                &lt;/ul&gt;\n                @Html.Partial(\"_LoginPartial\")\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"container body-content\"&gt;\n        @RenderBody()\n        &lt;hr /&gt;\n        &lt;footer&gt;\n            &lt;p&gt;&amp;copy; @DateTime.Now.Year - My ASP.NET Application&lt;/p&gt;\n        &lt;/footer&gt;\n    &lt;/div&gt;\n\n    @Scripts.Render(\"~/bundles/bootstrap\")\n    @RenderSection(\"scripts\", required: false)\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>Final Generated HTML:</strong></p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;meta charset=\"utf-8\" /&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt;\n    &lt;title&gt;Zoom - My ASP.NET Application&lt;/title&gt;\n    &lt;link href=\"/Content/bootstrap.css\" rel=\"stylesheet\"/&gt;\n&lt;link href=\"/Content/site.css\" rel=\"stylesheet\"/&gt;\n\n\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div class=\"navbar navbar-inverse navbar-fixed-top\"&gt;\n        &lt;div class=\"container\"&gt;\n            &lt;div class=\"navbar-header\"&gt;\n                &lt;button type=\"button\" class=\"navbar-toggle\" data-toggle=\"collapse\" data-target=\".navbar-collapse\"&gt;\n                    &lt;span class=\"icon-bar\"&gt;&lt;/span&gt;\n                    &lt;span class=\"icon-bar\"&gt;&lt;/span&gt;\n                    &lt;span class=\"icon-bar\"&gt;&lt;/span&gt;\n                &lt;/button&gt;\n                &lt;a class=\"navbar-brand\" href=\"/\"&gt;Application name&lt;/a&gt;\n            &lt;/div&gt;\n            &lt;div class=\"navbar-collapse collapse\"&gt;\n                &lt;ul class=\"nav navbar-nav\"&gt;\n                    &lt;li&gt;&lt;a href=\"/\"&gt;Home&lt;/a&gt;&lt;/li&gt;\n                    &lt;li&gt;&lt;a href=\"/Home/About\"&gt;About&lt;/a&gt;&lt;/li&gt;\n                    &lt;li&gt;&lt;a href=\"/Home/Contact\"&gt;Contact&lt;/a&gt;&lt;/li&gt;\n                &lt;/ul&gt;\n                    &lt;ul class=\"nav navbar-nav navbar-right\"&gt;\n        &lt;li&gt;&lt;a href=\"/Account/Register\" id=\"registerLink\"&gt;Register&lt;/a&gt;&lt;/li&gt;\n        &lt;li&gt;&lt;a href=\"/Account/Login\" id=\"loginLink\"&gt;Log in&lt;/a&gt;&lt;/li&gt;\n    &lt;/ul&gt;\n\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"container body-content\"&gt;\n\n\n\n\n\n\n    &lt;title&gt;Cloud Zoom&lt;/title&gt;\n    &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" /&gt;\n\n    &lt;!-- Include jQuery. --&gt;\n    &lt;script type=\"text/javascript\" src=\"/Scripts/jquery-1.10.2.min.js\"&gt;&lt;/script&gt;\n\n    &lt;!-- Include Cloud Zoom CSS. --&gt;\n    &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"/Content/cloudzoom.css\" /&gt;\n\n    &lt;!-- Include Cloud Zoom script. --&gt;\n    &lt;script type=\"text/javascript\" src=\"/Scripts/cloudzoom.js\"&gt;&lt;/script&gt;\n\n    &lt;!-- Call quick start function. --&gt;\n    &lt;script type=\"text/javascript\"&gt;\n        $(function(){CloudZoom.quickStart();})\n    &lt;/script&gt;\n\n    &lt;!-- Setup the zoomImage property to point to the big image. --&gt;\n    &lt;img class=\"cloudzoom\" src=\"/images/small/image1.jpg\"\n         data-cloudzoom=\"zoomImage: '~/images/large/image1.jpg'\" /&gt;\n\n\n\n\n\n        &lt;hr /&gt;\n        &lt;footer&gt;\n            &lt;p&gt;&amp;copy; 2016 - My ASP.NET Application&lt;/p&gt;\n        &lt;/footer&gt;\n    &lt;/div&gt;\n\n    &lt;script src=\"/Scripts/bootstrap.js\"&gt;&lt;/script&gt;\n&lt;script src=\"/Scripts/respond.js\"&gt;&lt;/script&gt;\n\n\n\n&lt;!-- Visual Studio Browser Link --&gt;\n&lt;script type=\"application/json\" id=\"__browserLink_initializationData\"&gt;\n    {\"appName\":\"Firefox\",\"requestId\":\"c6cb955b8169466e9a82c8082a334502\"}\n&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"http://localhost:6214/1d36907a16cf4beea1f3582a362b6719/browserLink\" async=\"async\"&gt;&lt;/script&gt;\n&lt;!-- End Browser Link --&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Any help would be appreciated.</p>\n\n<p>Regards</p>\n","ClosedDate":null,"CommentCount":47,"CommunityOwnedDate":null,"CreationDate":"2016-02-17T13:20:51.780Z","FavoriteCount":0,"LastActivityDate":"2016-02-17T18:04:57.773Z","LastEditDate":"2016-02-17T13:58:29.573Z","LastEditorDisplayName":null,"LastEditorUserId":5731805,"OwnerUserId":5731805,"ParentId":0,"PostTypeId":1,"Score":0,"Tags":"<javascript><jquery><asp.net-mvc><razor>","Title":"Can't run any jquery plugin inside my asp.net mvc application, what would be the cause?","ViewCount":39},{"Id":31971971,"AcceptedAnswerId":0,"AnswerCount":0,"Body":"<p>In past questions had been asked about this, I understand from reading much better algorithm. This time I have developed but I have a mistake somewhere. Here's what I've been functional, they are 7 polygons and each with an assigned value (userdata.value). Apply the formula but for some reason is not working.</p>\n\n<p>the desired result is something like the following:\n<a href=\"http://prag.ma/code/d3-cartogram/#netmigrate/2011\" rel=\"nofollow\">http://prag.ma/code/d3-cartogram/#netmigrate/2011</a></p>\n\n<p>This is the algorithm that attempts to apply (this on page 7 of the paper):\n<a href=\"http://postimg.org/image/dvok6g9ij/\" rel=\"nofollow\">http://postimg.org/image/dvok6g9ij/</a></p>\n\n<p>This may be more explained in the following paper:\n<a href=\"http://lambert.nico.free.fr/tp/biblio/Dougeniketal1985.pdf\" rel=\"nofollow\">http://lambert.nico.free.fr/tp/biblio/Dougeniketal1985.pdf</a>\nso I define each of the polygons (are 7 polygons)</p>\n\n<pre><code>Hexagongeometry[0] = new THREE.Geometry(); \nHexagongeometry[0].vertices.push(new THREE.Vector3(3,  3, 0.0)); \nHexagongeometry[0].vertices.push(new THREE.Vector3( 6,  5, 0.0)); \nHexagongeometry[0].vertices.push(new THREE.Vector3( 9,  3, 0.0)); \nHexagongeometry[0].vertices.push(new THREE.Vector3( 9,  0, 0.0)); \nHexagongeometry[0].vertices.push(new THREE.Vector3( 6,  -3, 0.0));\nHexagongeometry[0].vertices.push(new THREE.Vector3( 3,  0, 0.0));\nHexagongeometry[0].vertices.push(new THREE.Vector3( 3,  3, 0.0));\n\nhexagonMesh[0].userData={value:1};  //value of polygon\nhexagonMesh[0].position.set(1.5, 0.0, 4.0); \nhexagonMesh[0].geometry.verticesNeedUpdate=true;\n</code></pre>\n\n<p>Here I have applied the formula:</p>\n\n<p><a href=\"http://jsfiddle.net/3ks3bx3s/\" rel=\"nofollow\">http://jsfiddle.net/3ks3bx3s/</a></p>\n\n<p>Here I applied the algorithm according to my understanding.</p>\n\n<p>Hopefully I can help, I really researched the solution but I can not yet.</p>\n","ClosedDate":null,"CommentCount":45,"CommunityOwnedDate":null,"CreationDate":"2015-08-12T17:40:45.600Z","FavoriteCount":0,"LastActivityDate":"2015-09-07T20:25:55.653Z","LastEditDate":"2015-09-07T20:25:55.653Z","LastEditorDisplayName":null,"LastEditorUserId":3576984,"OwnerUserId":0,"ParentId":0,"PostTypeId":1,"Score":1,"Tags":"<javascript><algorithm><three.js><cartogram>","Title":"Algorithm applied in three.js","ViewCount":186},{"Id":27914450,"AcceptedAnswerId":0,"AnswerCount":1,"Body":"<p>I am having a problem with jQuery where by it is not loading inside a requested div.</p>\n\n<p>Setup:</p>\n\n<ol>\n<li>On index.php I have 4 Morris charts on 4 tabs all working fine.</li>\n<li>On each tab there is a list.  Each item in the list is a link</li>\n<li><p>Upon clicking the link the div within the tab reloads with new data\nvia post:</p>\n\n<pre><code>$(document).ready(function () {\n$('.click5').click(function () {\n    companyId = $(this).attr('id'); \n\n    $.post('./ajax/donut5.php', {\n        clickthrough5: $('#company5-'+companyId+' .clickthrough5').val(),\n        ref_date_from5: $('#company5-'+companyId+' .ref_date_from5').val(),\n        ref_date_to5: $('#company5-'+companyId+' .ref_date_to5').val()\n    },\n    function (data) {\n        $('.donut5').html(data);\n    });\n});     \n});\n</code></pre></li>\n<li><p>The new div contains a back button to take you back to a replica of the 1st graph but on a different page (donut1.php), for my personal ease:</p>\n\n<pre><code>$(document).ready(function () {\n$('.backref2').click(function () {\n    companyId = $(this).attr('id'); \n    $.post('./ajax/donut1.php', {\n        clickthrough6: $('#company6-'+companyId+' .clickthrough6').val(),\n        ref_date_from6: $('#company6-'+companyId+' .ref_date_from6').val(),\n        ref_date_to6: $('#company6-'+companyId+' .ref_date_to6').val()\n    },\n    function (data) {\n        $('.donut5').html(data);\n    });\n});     \n});\n</code></pre></li>\n<li><p>All this code works fine up until landing on donut1.php.</p></li>\n<li><p>At this point I proceeded to pull out chunks of my hair for several hours looking through Inspect Element in Chrome to identify the issue.</p></li>\n<li><p>1 bald person later I realised the jQuery was not loading although it is correctly requested in a script tag.</p></li>\n<li><p>I confirmed this by placing the following on both donut1.php and donut5.php:</p>\n\n<pre><code>&lt;div id=\"divTest1\"&gt;&lt;/div&gt;\n&lt;script type=\"text/javascript\"&gt;\n$(\"#divTest1\").text(\"Hello, world!\");\n&lt;/script&gt;\n</code></pre></li>\n<li><p>donut5.php displays the output fine while donut1.php does not.</p></li>\n<li><p>I then tried to load an external source and a different version using the Google snippets found <a href=\"https://developers.google.com/speed/libraries/devguide#jquery\" rel=\"nofollow\">here</a> but this still did not work.</p></li>\n</ol>\n\n<p>Some points to note:\nI currently have jquery loading in my header and footer as part of trying to work this out.\nAs the 2 pages donut1.php and donut5.php do not include header or footer I have manually included them both in there.  Same exact way in both files.  donut5.php works donut1.php does not.</p>\n\n<p>Order is index.php > donut5.php > donut1.php and then you continue to cycle between donut5 and donut 1 - or you would if the post on click was working in donut1.php.</p>\n\n<p>Any help would be greatly appreciated!</p>\n\n<p>EDIT: donut1.php:</p>\n\n<pre><code>&lt;?php\ninclude(\"../../../includes/config.php\");\n\n$selected = $_POST['clickthrough6'];\n$date_from = $_POST['ref_date_from6'];\n$date_to = $_POST['ref_date_to6'];\n\n?&gt;\n    &lt;script src=\"../../../js/jquery-1.11.0.js\"&gt;&lt;/script&gt;\n\n\n&lt;script&gt;\n$(document).ready(function () {\n    $('.click7').click(function () {\n        companyId = $(this).attr('id'); \n\n        $.post('./ajax/donut5.php', {\n            clickthrough5: $('#company7-'+companyId+' .clickthrough7').val(),\n            ref_date_from5: $('#company7-'+companyId+' .ref_date_from7').val(),\n            ref_date_to5: $('#company7-'+companyId+' .ref_date_to7').val()\n        },\n        function (data) {\n            $('.donut5').html(data);\n        });\n    });     \n});\n\n\n&lt;/script&gt;\n\n&lt;div id=\"tabs2\"&gt;\n    &lt;div id=\"tabs-1\" class=\"donut5\"&gt;\n\n            &lt;h4&gt;Top 5 Referrers - Quotes &lt;br /&gt;&lt;small&gt;Total number of Quotes between &lt;?php echo date(\"d/m/Y\", $date_from); ?&gt; to &lt;?php echo date(\"d/m/Y\", $date_to); ?&gt;&lt;/small&gt;&lt;/h4&gt;\n\n        &lt;div class=\"statgrid\"&gt;\n\n&lt;div id=\"divTest1\"&gt;&lt;/div&gt;\n&lt;script type=\"text/javascript\"&gt;\n$(\"#divTest1\").text(\"Hello, world!\");\n&lt;/script&gt;\n\n            &lt;?php $quotes_q=\"SELECT \n            c.case_id,\n            co.name AS company_name, \n            co.company_id AS company_id,\n            COUNT(c.case_id) 'quote_count' \n            FROM \n            (`case` c,\n            `panel_company` pc,\n            `panel` p)\n            LEFT JOIN company co ON (co.company_id = pc.company_id) \n            WHERE pc.panel_id = \" .$RegisteredUser['panel_id']. \" AND\n            p.company_id = pc.company_id AND\n            c.panel_id = p.panel_id AND \n            c.insert_date &gt; \".$date_from. \" AND \n            c.insert_date &lt; \".$date_to. \"\n            GROUP BY p.panel_id\n            ORDER BY quote_count DESC, co.company_id\n            LIMIT 5\"; \n            $result=$mysqli-&gt;query($quotes_q); ?&gt;\n\n            &lt;div class=\"col-2-6\"&gt;\n                &lt;div id=\"morris-donut-chart6\"&gt;&lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=\"statgrid\"&gt;\n            &lt;?php while ($row=$result-&gt;fetch_array()) { ?&gt;\n            &lt;div class=\"col-4-6\"&gt;\n            &lt;div id=\"company7-&lt;?php echo $row['company_id'];?&gt;\"&gt;\n                &lt;input type=\"hidden\" class=\"ref_date_from7\" value=\"&lt;?php echo $date_from; ?&gt;\" /&gt;\n                &lt;input type=\"hidden\" class=\"ref_date_to7\" value=\"&lt;?php echo $date_to; ?&gt;\" /&gt;\n                &lt;input type=\"hidden\" class=\"clickthrough7\" value=\"&lt;?php echo $row['company_id'] ?&gt;\" /&gt;\n                        &lt;a&gt;&lt;div id=\"&lt;?php echo $row['company_id'];?&gt;\" class=\"click7 col-5-6\"&gt;&lt;?php echo $row['company_name']; ?&gt;&lt;/div&gt;&lt;/a&gt;\n                        &lt;div class=\"col-1-6\"&gt;&lt;?php echo $row['quote_count']; ?&gt;&lt;/div&gt;\n            &lt;/div&gt;\n\n            &lt;/div&gt;\n            &lt;?php } ?&gt;\n\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n&lt;/div&gt;\n&lt;?php\n    $quotes_q = \"SELECT \n            c.case_id,\n            co.name AS company_name, \n            COUNT(c.case_id) 'quote_count' \n            FROM \n            (`case` c,\n            `panel_company` pc,\n            `panel` p)\n            LEFT JOIN company co ON (co.company_id = pc.company_id) \n            WHERE pc.panel_id = \".$RegisteredUser['panel_id'].\" AND\n            p.company_id = pc.company_id AND\n            c.panel_id = p.panel_id AND \n            c.insert_date &gt; \".$date_from.\" AND \n            c.insert_date &lt; \".$date_to.\"\n            GROUP BY p.panel_id\n            ORDER BY quote_count DESC, co.company_id\n            LIMIT 5\";\n\n    $result = $mysqli-&gt;query($quotes_q);    \n\n?&gt;\n&lt;script&gt;\n    var donut_data6 = [\n    &lt;?php while ($row = $result-&gt;fetch_array()) { ?&gt;\n    {\n            label: '&lt;?php echo substr($row['company_name'],0,15); ?&gt;',\n            value: '&lt;?php echo $row['quote_count']; ?&gt;'\n    },\n    &lt;?php } ?&gt;\n    ];\n\n    var donut6 = {\n        element: 'morris-donut-chart6',\n        data: donut_data6,\n        resize: false\n        }\n\n    donut6 = Morris.Donut(donut6)\n\n&lt;/script&gt;\n</code></pre>\n\n<p>EDIT2:\nNot too sure if this makes a different but in Network tab I have 2 listings for jquery the initial one loaded from the header which loads 304 Not Modified and the 2nd one which loads on calling donut5.php which loads as 200 OK.  Seems that after this I cannot request jquery again perhaps?</p>\n\n<p>EDIT3: in donut1.php I have removed everything except for the jquery script request and the Hello World inside the div I am trying to retrieve.  Network tab still shows that jquery is not loading.  The strange thing is I have this exact setup, minus the charts, working on the same page (different div classes of course), and this does load jquery fine.</p>\n\n<p>EDIT4:  Substituted jQuery for JS as a test and not even basic stand alone JS will work, added in:</p>\n\n<pre><code>&lt;p id=\"demo\"&gt;&lt;/p&gt;\n\n&lt;script&gt;\ndocument.getElementById(\"demo\").innerHTML = \"Hello JavaScript!\";\n&lt;/script&gt; \n</code></pre>\n\n<p>Nothing :( - Looping in JS world</p>\n\n<p>EDIT5: Suppose <code>&lt;script&gt;</code> is a HTML tag so looping in them too.</p>\n\n<p>EDIT6: When adding console.logo(data) to the function in list item 4 above I get back the following (obviously I have excluded a lot for testing:</p>\n\n<pre><code>    &lt;script src=\"../../../js/jquery-1.11.0.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"../../../js/jquery-ui.js\"&gt;&lt;/script&gt;\n\n&lt;!--\n&lt;script&gt;\n$(document).ready(function () {\n    $('.click7').click(function () {\n        companyId = $(this).attr('id'); \n\n        $.post('./ajax/donut5.php', {\n            clickthrough5: $('#company7-'+companyId+' .clickthrough7').val(),\n            ref_date_from5: $('#company7-'+companyId+' .ref_date_from7').val(),\n            ref_date_to5: $('#company7-'+companyId+' .ref_date_to7').val()\n        },\n        function (data) {\n            $('.donut5').html(data);\n        });\n    });     \n});\n&lt;/script&gt;\n--&gt;\n\n&lt;div id=\"tabs2\"&gt;\n    &lt;div id=\"tabs-1\" class=\"donut5\"&gt;\n\n&lt;p id=\"demo\"&gt;&lt;/p&gt;\n\n&lt;script&gt;\ndocument.getElementById(\"demo\").innerHTML = \"Hello JavaScript!\";\n&lt;/script&gt; \n\n&lt;div id=\"divTest1\"&gt;&lt;/div&gt;\n&lt;script type=\"text/javascript\"&gt;\n$(\"#divTest1\").text(\"Hello, world!\");\n&lt;/script&gt;\n\n    &lt;/div&gt;\n\n&lt;/div&gt;\n</code></pre>\n\n<p>EDIT7:</p>\n\n<p>Placing code here to confirm if I have correctly inplemented KevinB's suggestion.</p>\n\n<pre><code>var\n    contentSelector = '.donut5',\n    $content = $(contentSelector),\n    contentNode = $content.get(0);\n\nvar documentHtml = function (html) {\n    // Prepare\n    var result = String(html)\n        .replace(/&lt;\\!DOCTYPE[^&gt;]*&gt;/i, '')\n    .replace(/&lt;(html|head|body|title|meta|script)([\\s\\&gt;])/gi,'&lt;div class=\"document-$1\"$2')\n        .replace(/&lt;\\/(html|head|body|title|meta|script)\\&gt;/gi, '&lt;/div&gt;');\n\n    // Return\n    return $.trim(result);\n};\n\n\n\n$(document).ready(function () {\n    $('.click5').click(function () {\n        companyId = $(this).attr('id');\n\n        $.post('./ajax/donut5.php', {\n            clickthrough5: $('#company5-' + companyId + ' .clickthrough5').val(),\n            ref_date_from5: $('#company5-' + companyId + ' .ref_date_from5').val(),\n            ref_date_to5: $('#company5-' + companyId + ' .ref_date_to5').val()\n        },\n\n        function (data) {\n\n\n            var\n                $data = $(documentHtml(data)),\n                $dataBody = $data.find('.donut5'),\n                $dataContent = $dataBody.find(contentSelector),\n                $menuChildren, contentHtml, $scripts;\n\n            // Fetch the scripts\n            $scripts = $dataContent.find('.document-script');\n            if ($scripts.length) {\n                $scripts.detach();\n            }\n\n            // Fetch the content\n            contentHtml = $dataContent.html() || $data.html();\n            $scripts.each(function () {\n                var $script = $(this),\n                    scriptText = $script.text(),\n                    scriptNode = document.createElement('script');\n                if ($script.attr('src')) {\n                    if (!$script[0].async) {\n                        scriptNode.async = false;\n                    }\n                    scriptNode.src = $script.attr('src');\n                }\n                scriptNode.appendChild(document.createTextNode(scriptText));\n                contentNode.appendChild(scriptNode);\n            });\n            console.log(data);\n        });\n    });\n});\n</code></pre>\n\n<p>EDIT8:</p>\n\n<p>After trying the code above in EDIT7 the <code>.donut5</code> in no longer being pulled from donut5.php to index.php which was originally working.  I can see that jquery doesn't duplicate anymore on Network tab when clicking the link for donut5.php (even though the call to it is still there).  Currently either I assume I have not mapped a div correctly above as I did remove part of the class find code for <code>:first</code> as I felt it was not required or somehow I have managed to make things worse!</p>\n","ClosedDate":null,"CommentCount":44,"CommunityOwnedDate":null,"CreationDate":"2015-01-13T03:26:49.133Z","FavoriteCount":0,"LastActivityDate":"2015-01-13T20:53:12.303Z","LastEditDate":"2015-01-13T20:53:12.303Z","LastEditorDisplayName":null,"LastEditorUserId":1560199,"OwnerUserId":1560199,"ParentId":0,"PostTypeId":1,"Score":2,"Tags":"<javascript><jquery><html><ajax>","Title":"<script> tags not working following jQuery post","ViewCount":444},{"Id":35670922,"AcceptedAnswerId":35676887,"AnswerCount":1,"Body":"<p>Yesterday <a href=\"http://stackoverflow.com/questions/35664515/connecting-html-javascript-and-php-with-sessions/35664818?noredirect=1#comment59010797_35664818\">I asked about connecting HTML, Javascript and PHP with sessions</a>.</p>\n\n<p>I was advised to use $.ajax(), but I'm having trouble figuring out how to get it working.</p>\n\n<p>To start off with I have a HTML file:</p>\n\n<pre><code>&lt;?php session_start(); ?&gt; &lt;!-- This is on the first line of the page --&gt;\n...\n&lt;form id=\"formexample\" method=\"post\" action=\"cart.php\"&gt;\n&lt;select name=\"formexample1\"&gt;\n    &lt;option value=\"1\"&gt;Option 1&lt;/option&gt;\n    &lt;option value=\"2\"&gt;Option 2&lt;/option&gt;\n&lt;/select&gt;\n&lt;select  name=\"formexample2\"&gt;\n    &lt;option value=\"1\"&gt;Option 1&lt;/option&gt;\n    &lt;option value=\"2\"&gt;Option 2&lt;/option&gt;\n&lt;/select&gt;\n&lt;button type=\"button\" onclick=\"addToCart()\"&gt;Add to Cart&lt;/button&gt;\n&lt;/form&gt;\n&lt;div class=\"test\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>I have this in a separate, inlcuded PHP file: cart.php</p>\n\n<pre><code>&lt;?php   \n\nsession_start(); \n$PHPtest = 1;\necho json_encode($PHPtest);\n/* \n$_SESSION['cart'][$_POST['formexample1']] = $_POST['formexample1'];\n$_SESSION['cart'][$_POST['formexample1']][$_POST['formexample2']] = [$_POST['formexample2']] \n\n*/\n?&gt;\n</code></pre>\n\n<p>My goal is to access the $_SESSION variable in my Javascript, but for the moment I'm trying to do get it to work with $PHPtest first.</p>\n\n<p>In the Javascript I have this:</p>\n\n<pre><code>function addToCart()\n{\n    var test;\n    $.ajax(\n    {\n        url:\"cart.php\",\n        type:\"post\",\n        data: data,\n        success:function(PHPtest) \n        {\n            test = $.parseJSON(PHPtest);\n            console.log(test); //sends the response to your console\n        },\n        error:function() \n        {\n            console.log(\"Error\");\n        }\n    });\n    alert(test);\n}\n</code></pre>\n\n<p>To see how I got to this point, see the thread from yesterday (linked at the top of the page) and the discussion under Josh S's answer. I'm trying to get $.ajax() to work, but without success.\nI've been looking at online examples and have been trying to write the same format, but nothing I try seems to work.</p>\n\n<p>Thanks in advance.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>This is what I have now:</p>\n\n<pre><code>    var test;\n    $.ajax(\n    {\n        url:\"cart.php\",\n        type:'post',\n        data: 'test',\n        datatype: 'json'\n        success:function(PHPtest) \n        {\n            test = $.parseJSON(PHPtest);\n            alert(test);\n            console.log(test); //sends the response to your console\n        },\n        error:function() \n        {\n            console.log(\"Error\");\n        }\n    });\n</code></pre>\n\n<p><strong>EDIT 2</strong></p>\n\n<p>I finally figured out how to send $PHPtest to Javascript. I wrote:</p>\n\n<pre><code>$.get( \"cart.php\", function( PHPtest ) {\ntest = PHPtest;     \nalert(test);\n        });\n</code></pre>\n\n<p>My PHP remains:</p>\n\n<pre><code>&lt;?php   \n\n/* session_start();*/ \n$PHPtest= \"test\";\necho json_encode($PHPtest);\n?&gt;\n</code></pre>\n\n<p>It works for various values of PHPtest. As far as I can tell taking out \"json_encode\" between \"echo\" and \"$PHPtest\" makes no difference.</p>\n\n<p><strong>EDIT 3</strong></p>\n\n<p>Here's what I have now.</p>\n\n<p>HTML:\nThis is in a file \"bookings.php\".\n     \n    ...\n    \n    \n        Option 1\n        Option 2\n    \n    \n        Option 1\n        Option 2\n    \n    Add to Cart\n    </p>\n\n<p>Javascript:</p>\n\n<pre><code>function addToCart()\n {\n    var test;\n    get( \"cart.php\", function(PHPtest) \n    {\n    test = PHPtest;\n    alert(test);\n    });\n}\n</code></pre>\n\n<p>PHP:\nExternal PHP file, \"cart.php\":</p>\n\n<pre><code>&lt;?php   \n\n    /* session_start();*/\n        $PHPtest= \"Example\";\n        echo json_encode($PHPtest);\n        if(isset($_POST))\n        {\n             $_SESSION['cart']['0'] = $_POST['formexample1'];\n        }\n?&gt;\n</code></pre>\n\n<p>The alert shows:</p>\n\n<blockquote>\n  <p>\"Example\"<br /><b>Notice</b>: Undefined index: formexample1 in <b>(directory)</b> on line <b>8</b><br /></p>\n</blockquote>\n\n<p>The same text appears in the top left of the page, even if I comment out the \"$.get()\".</p>\n\n<p><strong>EDIT 4</strong></p>\n\n<p>I'm trying to extract a single PHP variable, $PHPtest, with AJAX. I'm also trying to retrieve POST information correctly.</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;?php session_start(); ?&gt; &lt;!-- This is on the first line of the page --&gt;\n...\n&lt;form id=\"bookingform\" method=\"post\" action=\"cart.php\"&gt;\n&lt;select name=\"day\"&gt;\n    &lt;option value=\"1\"&gt;Option 1&lt;/option&gt;\n    &lt;option value=\"2\"&gt;Option 2&lt;/option&gt;\n&lt;/select&gt;\n&lt;select  name=\"time\"&gt;\n    &lt;option value=\"1\"&gt;Option 1&lt;/option&gt;\n    &lt;option value=\"2\"&gt;Option 2&lt;/option&gt;\n&lt;/select&gt;\n&lt;button type=\"button\" onclick=\"addToCart()\"&gt;Add to Cart&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>Javascript:</p>\n\n<pre><code>function addToCart()\n{\n        $(\"#bookingform\").submit();\n        var test;\n        $.get( \"cart.php\", function(PHPtest) {\n        test = PHPtest;\n        alert(test);\n        });\n}\n</code></pre>\n\n<p>cart.php:\n    \n\n<pre><code>session_start();\n    $PHPtest = \"Test\";\n    $PHPtest = \"Test2\";\n    echo json_encode($PHPtest);\n    echo json_encode($PHPtest2);\n\n    if(isset($_POST['day']))\n    {\n        /*$PHPtest3 = \"test3\"\n        $_SESSION['cart']['0'] = $_POST['day'];\n        echo json_encode($PHPtest3);\n        echo json_encode($_POST['day']);*/\n\n    }\n</code></pre>\n\n<p>As it is, the alert produces </p>\n\n<pre><code>&gt; \"Test\"\"Test2\"\n</code></pre>\n\n<p>Uncommenting the \"isset\" in cart.php changes the alert to:</p>\n\n<pre><code>    &lt;br /&gt;\n&lt;b&gt;Parse error&lt;/b&gt;: syntax error, unexpected '$_SESSION' (T_VARIABLE) in &lt;b&gt;(directory)&lt;/b&gt; on line &lt;b&gt;14&lt;/b&gt;&lt;br /&gt;\n</code></pre>\n\n<p>Line 14 is the line with \"$_SESSION['cart']['0'] = $_POST['day'];\".</p>\n","ClosedDate":null,"CommentCount":43,"CommunityOwnedDate":null,"CreationDate":"2016-02-27T14:27:22.666Z","FavoriteCount":0,"LastActivityDate":"2016-02-28T00:49:37.096Z","LastEditDate":"2016-02-28T00:49:37.096Z","LastEditorDisplayName":null,"LastEditorUserId":5988698,"OwnerUserId":5988698,"ParentId":0,"PostTypeId":1,"Score":-1,"Tags":"<javascript><php><jquery><html><ajax>","Title":"Trouble Understanding $.ajax() Parametres to get PHP Variable","ViewCount":59},{"Id":29168007,"AcceptedAnswerId":0,"AnswerCount":2,"Body":"<p>I have a <code>save_video</code> action on my <code>NodesController</code> that does this:</p>\n\n<pre><code>format.html { redirect_to video_tag_users_path(@video) }\n</code></pre>\n\n<p>What I want to happen is when it calls that action, it should render my <code>tag_users.js.erb</code>, but it is not.</p>\n\n<p>This is my <code>tag_users</code> action:</p>\n\n<pre><code>  def tag_users\n    authorize! :read, @family_tree\n    @video = Video.find(params[:video_id])\n    @node = @video.node\n\n    respond_to do |format|\n      format.html\n      format.js\n    end\n\n    redirect_to root_path\n  end\n</code></pre>\n\n<p>This is the log of what is happening:</p>\n\n<pre><code>Redirected to http://localhost:3000/videos/164/tag_users\nCompleted 302 Found in 23ms (ActiveRecord: 12.3ms)\n\n\nStarted GET \"/videos/164/tag_users\" for 127.0.0.1 at 2015-03-20 08:24:09 -0500\nProcessing by VideosController#tag_users as HTML\n  Parameters: {\"video_id\"=&gt;\"164\"}\n# truncated for brevity\n  Rendered videos/tag_users.html.erb within layouts/application (0.2ms)\n</code></pre>\n\n<p>This is the file I want it to render:  <code>tag_users.js.erb</code></p>\n\n<pre><code>$(\"#add-video-step-3\").html(\"&lt;%= escape_javascript(render 'videos/tag_users_in_video') %&gt;\");\n</code></pre>\n\n<p>Which then renders this modal <code>_tag_users_in_video.html.erb</code>:</p>\n\n<pre><code>&lt;div class=\"bootstrap-styles\" id=\"add-video-step-5\"&gt; \n &lt;div class=\"modal-header\"&gt;\n      &lt;div class=\"titles clearfix\"&gt;\n          &lt;h2&gt;Tag Users&lt;/h2&gt;\n          &lt;p&gt;&lt;i&gt;Step 3 of 3&lt;/i&gt;&lt;/p&gt;\n      &lt;/div&gt;\n  &lt;/div&gt;\n  &lt;div class=\"modal-body\"&gt;\n    &lt;div class=\"content\"&gt;\n            &lt;div&gt;Tag someone&lt;/div&gt;\n            &lt;%= simple_form_for @node, url: add_tagged_user_node_path(@node), method: :post do |f| %&gt;\n              &lt;%= f.error_notification %&gt;\n\n              &lt;div class=\"form-inputs\"&gt;\n                    &lt;%= f.association :user, label: \"Users\", collection: @users, as: :check_boxes, checked: @node.user_tags %&gt;\n              &lt;/div&gt;                            \n\n              &lt;div class=\"form-actions\"&gt;\n                &lt;%= f.button :submit, class: \"btn btn-success ladda-button\" %&gt;\n              &lt;/div&gt;\n            &lt;% end %&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n  &lt;div class=\"modal-footer\"&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>Edit 1</strong></p>\n\n<p>So I changed the <code>respond_to</code> block in my <code>tag_users</code> action to this:</p>\n\n<pre><code>render 'tag_users.js'  \n</code></pre>\n\n<p>But now it is actually rendering the JS rather than executing it and rendering the modal I want it to render.</p>\n\n<p>i.e. this is what shows up in my browser, it redirects to URL <code>localhost/videos/167/tag_users.js</code>:</p>\n\n<pre><code>$(\"#add-video-step-3\").html(\"&lt;div class=\\\"bootstrap-styles\\\" id=\\\"add-video-step-5\\\"&gt; \\n &lt;div class=\\\"modal-header\\\"&gt;\\n      &lt;div class=\\\"titles clearfix\\\"&gt;\\n          &lt;h2&gt;Tag Users&lt;\\/h2&gt;\\n          &lt;p&gt;&lt;i&gt;Step 3 of 3&lt;\\/i&gt;&lt;\\/p&gt;\\n      &lt;\\/div&gt;\\n  &lt;\\/div&gt;\\n  &lt;div class=\\\"modal-body\\\"&gt;\\n    &lt;div class=\\\"content\\\"&gt;\\n           &lt;div&gt;Tag someone&lt;\\/div&gt;\\n           &lt;form accept-charset=\\\"UTF-8\\\" action=\\\"/nodes/40/add_tagged_user\\\" class=\\\"simple_form edit_node\\\" id=\\\"edit_node_40\\\" method=\\\"post\\\" novalidate=\\\"novalidate\\\"&gt;&lt;div style=\\\"display:none\\\"&gt;&lt;input name=\\\"utf8\\\" type=\\\"hidden\\\" value=\\\"&amp;#x2713;\\\" /&gt;&lt;input name=\\\"authenticity_token\\\" type=\\\"hidden\\\" value=\\\"Jj8CsHGzcNJJuJn9HGWjNaSjIfSJaZ8N81vmZ+Zp6KQ=\\\" /&gt;&lt;\\/div&gt;\\n             \\n                            \\n            &lt;div class=\\\"form-inputs\\\"&gt;\\n                 &lt;div class=\\\"control-group check_boxes optional node_user\\\"&gt;&lt;label class=\\\"check_boxes optional control-label\\\"&gt;Users&lt;\\/label&gt;&lt;div class=\\\"controls\\\"&gt;&lt;label class=\\\"checkbox\\\"&gt;&lt;input class=\\\"check_boxes optional\\\" id=\\\"node_user_id_true\\\" name=\\\"node[user_id][]\\\" type=\\\"checkbox\\\" value=\\\"true\\\" /&gt;Yes&lt;\\/label&gt;&lt;label class=\\\"checkbox\\\"&gt;&lt;input class=\\\"check_boxes optional\\\" id=\\\"node_user_id_false\\\" name=\\\"node[user_id][]\\\" type=\\\"checkbox\\\" value=\\\"false\\\" /&gt;No&lt;\\/label&gt;&lt;input name=\\\"node[user_id][]\\\" type=\\\"hidden\\\" value=\\\"\\\" /&gt;&lt;\\/div&gt;&lt;\\/div&gt;\\n            &lt;\\/div&gt;                           \\n\\n              &lt;div class=\\\"form-actions\\\"&gt;\\n                &lt;input class=\\\"btn btn btn-success ladda-button\\\" name=\\\"commit\\\" type=\\\"submit\\\" value=\\\"Update Node\\\" /&gt;\\n              &lt;\\/div&gt;\\n&lt;\\/form&gt;    &lt;\\/div&gt;\\n  &lt;\\/div&gt;\\n  &lt;div class=\\\"modal-footer\\\"&gt;\\n  &lt;\\/div&gt;\\n&lt;\\/div&gt;\");\n</code></pre>\n\n<p>That basically means that it is not rendering the HTML like I expect it to, but just spitting out the HTML from the view <code>_tag_users_in_video.html.erb</code> partial.</p>\n\n<p>What I want to happen is for it to pop-up a modal that looks like the modal with <code>id=add-video-step-3</code>, but with the content I specified in <code>_tag_users_in_video.html.erb</code>.</p>\n\n<p><strong>Edit 2</strong></p>\n\n<p>The server log for the above action is:</p>\n\n<pre><code>Started GET \"/videos/168/tag_users.js\" for 127.0.0.1 at 2015-03-20 10:03:56 -0500\nProcessing by VideosController#tag_users as JS\n  Parameters: {\"video_id\"=&gt;\"168\"}\n  User Load (1.3ms)  SELECT  \"users\".* FROM \"users\"  WHERE \"users\".\"id\" = 57  ORDER BY \"users\".\"id\" ASC LIMIT 1\n  FamilyTree Load (0.9ms)  SELECT  \"family_trees\".* FROM \"family_trees\"  WHERE \"family_trees\".\"user_id\" = $1 LIMIT 1  [[\"user_id\", 57]]\n   (1.1ms)  SELECT COUNT(*) FROM \"roles\" INNER JOIN \"users_roles\" ON \"roles\".\"id\" = \"users_roles\".\"role_id\" WHERE \"users_roles\".\"user_id\" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [[\"user_id\", 57]]\n  Membership Load (1.6ms)  SELECT \"memberships\".* FROM \"memberships\"  WHERE \"memberships\".\"user_id\" = 57 AND \"memberships\".\"family_tree_id\" = 57\n  Video Load (1.1ms)  SELECT  \"videos\".* FROM \"videos\"  WHERE \"videos\".\"id\" = $1 LIMIT 1  [[\"id\", 168]]\n  Node Load (1.1ms)  SELECT  \"nodes\".* FROM \"nodes\"  WHERE \"nodes\".\"media_id\" = $1 AND \"nodes\".\"media_type\" = $2 LIMIT 1  [[\"media_id\", 168], [\"media_type\", \"Video\"]]\n  ActsAsTaggableOn::Tag Load (1.8ms)  SELECT \"tags\".* FROM \"tags\" INNER JOIN \"taggings\" ON \"tags\".\"id\" = \"taggings\".\"tag_id\" WHERE \"taggings\".\"taggable_id\" = $1 AND \"taggings\".\"taggable_type\" = $2 AND \"taggings\".\"context\" = 'user_tags'  [[\"taggable_id\", 41], [\"taggable_type\", \"Node\"]]\n  Rendered videos/_tag_users_in_video.html.erb (23.6ms)\n  Rendered videos/tag_users.js.erb (25.5ms)\nCompleted 200 OK in 196ms (Views: 23.1ms | ActiveRecord: 84.6ms)\n</code></pre>\n\n<p><strong>Edit 3</strong></p>\n\n<p>So I added the JS render to the format.html inside my <code>save_video</code> action like you suggest. This is the code:</p>\n\n<pre><code>  respond_to do |format|\n    if @node\n      format.html { render 'tag_users.js' }\n      format.js\n    end\n  end\n</code></pre>\n\n<p>This is what the result looks like:</p>\n\n<p><img src=\"http://i.stack.imgur.com/7bMZO.png\" alt=\"Rendered JS\"></p>\n\n<p>Whereas I am trying to get it to look like this:</p>\n\n<p><img src=\"http://i.stack.imgur.com/mmcI9.png\" alt=\"Original Modal I am trying to get it to look like\"></p>\n\n<p><strong>Edit 4</strong></p>\n\n<p>This is the <code>save_video</code> method in my controller (I left commented out code to see what has been tried with no success):</p>\n\n<pre><code>  def save_video\n    authorize! :read, @family_tree\n    @video = Video.find(params[:video_id])\n    if params[:status].to_i == 200\n      @video.update_attributes(:yt_video_id =&gt; params[:id].to_s, :is_complete =&gt; true)\n      @node = current_user.nodes.create!(family_tree: @family_tree, media: @video, name: @video.title, circa: @video.circa)    \n\n      if @node\n        render 'tag_users.js'\n      end\n\n      # respond_to do |format|\n      #   if @node\n      #     format.html {  }\n      #     format.js\n      #   end\n      # end\n\n    else\n      Video.delete_video(@video)\n    end\n\n    # respond_to do |format|\n    #   format.html { redirect_to video_tag_users_path(@video, @node) }\n    #   format.js\n    # end\n\n    # redirect_to root_path\n    # redirect_to video_tag_users_path(@video, @node)\n  end\n</code></pre>\n\n<p>Here is the server log for this permutation of the <code>save_video</code> action:</p>\n\n<pre><code>Started GET \"/videos/172/save_video?status=200&amp;id=bMaCxSIbJYU\" for 127.0.0.1 at 2015-03-20 13:39:19 -0500\nProcessing by VideosController#save_video as HTML\n  Parameters: {\"status\"=&gt;\"200\", \"id\"=&gt;\"bMaCxSIbJYU\", \"video_id\"=&gt;\"172\"}\n  User Load (1.4ms)  SELECT  \"users\".* FROM \"users\"  WHERE \"users\".\"id\" = 57  ORDER BY \"users\".\"id\" ASC LIMIT 1\n  FamilyTree Load (1.0ms)  SELECT  \"family_trees\".* FROM \"family_trees\"  WHERE \"family_trees\".\"user_id\" = $1 LIMIT 1  [[\"user_id\", 57]]\n   (1.2ms)  SELECT COUNT(*) FROM \"roles\" INNER JOIN \"users_roles\" ON \"roles\".\"id\" = \"users_roles\".\"role_id\" WHERE \"users_roles\".\"user_id\" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [[\"user_id\", 57]]\n  Membership Load (1.4ms)  SELECT \"memberships\".* FROM \"memberships\"  WHERE \"memberships\".\"user_id\" = 57 AND \"memberships\".\"family_tree_id\" = 57\n  Video Load (0.9ms)  SELECT  \"videos\".* FROM \"videos\"  WHERE \"videos\".\"id\" = $1 LIMIT 1  [[\"id\", 172]]\n   (0.9ms)  BEGIN\n  SQL (1.3ms)  UPDATE \"videos\" SET \"is_complete\" = $1, \"updated_at\" = $2, \"yt_video_id\" = $3 WHERE \"videos\".\"id\" = 172  [[\"is_complete\", \"t\"], [\"updated_at\", \"2015-03-20 18:39:19.959122\"], [\"yt_video_id\", \"bMaCxSIbJYU\"]]\n   (1.5ms)  COMMIT\n   (0.9ms)  BEGIN\n  SQL (5.4ms)  INSERT INTO \"nodes\" (\"created_at\", \"family_tree_id\", \"media_id\", \"media_type\", \"name\", \"updated_at\", \"user_id\") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING \"id\"  [[\"created_at\", \"2015-03-20 18:39:19.967237\"], [\"family_tree_id\", 57], [\"media_id\", 172], [\"media_type\", \"Video\"], [\"name\", \"Outro 10PP\"], [\"updated_at\", \"2015-03-20 18:39:19.967237\"], [\"user_id\", 57]]\n   (1.2ms)  COMMIT\n  ActsAsTaggableOn::Tag Load (1.7ms)  SELECT \"tags\".* FROM \"tags\" INNER JOIN \"taggings\" ON \"tags\".\"id\" = \"taggings\".\"tag_id\" WHERE \"taggings\".\"taggable_id\" = $1 AND \"taggings\".\"taggable_type\" = $2 AND \"taggings\".\"context\" = 'user_tags'  [[\"taggable_id\", 45], [\"taggable_type\", \"Node\"]]\n  Rendered videos/_tag_users_in_video.html.erb (10.3ms)\n  Rendered videos/tag_users.js.erb (12.7ms)\n</code></pre>\n\n<p><strong>Edit 5</strong></p>\n\n<p>There is no front-end part that sends request to <code>save_video</code>. What happens is, the user fills out the form that appears in this modal:</p>\n\n<pre><code>&lt;div id=\"overlay\"&gt;&amp;nbsp;&lt;/div&gt;\n&lt;div class=\"popup\" id=\"add-video-step-4\" data-step=\"4\" data-intro=\"GETS TO UPLOADING\"&gt;\n  &lt;div class=\"titles clearfix\"&gt;\n      &lt;h2&gt;Upload a Video&lt;/h2&gt;\n      &lt;p&gt;&lt;i&gt;Step 1 of 3&lt;/i&gt;&lt;/p&gt;\n  &lt;/div&gt;\n  &lt;div class=\"content\"&gt;\n    &lt;% if @family_tree %&gt;\n      &lt;%= simple_form_for([@family_tree, @video], :remote =&gt; true) do |f| %&gt;\n        &lt;div class=\"column\"&gt;\n              &lt;div class=\"f-row\"&gt;\n                  &lt;%= f.input :title, label: \"Title:\" %&gt;\n              &lt;/div&gt;\n              &lt;div class=\"f-row\"&gt;\n                  &lt;%= f.input :description,label: \"Description:\" %&gt;\n              &lt;/div&gt;\n              &lt;div class=\"f-row\"&gt;\n                  &lt;%= f.input :circa, as: :datepicker, start_year: Date.today.year - 5, label: \"Circa:\" %&gt;\n              &lt;/div&gt;\n              &lt;div class=\"f-row\"&gt;\n                  &lt;label for=\"family\"&gt;Family in this video:&lt;/label&gt;\n                  &lt;%= f.collection_select :user_ids, @family_tree.members.order(:first_name), :id, :first_name, {}, {multiple: true} %&gt;\n              &lt;/div&gt;\n          &lt;/div&gt;\n          &lt;%= f.button :submit, \"Add Video\", id: \"video-submit\" %&gt;\n        &lt;% end %&gt;\n      &lt;% end %&gt;\n    &lt;/div&gt; &lt;!-- //content --&gt;\n&lt;/div&gt; &lt;!-- //popup --&gt;\n</code></pre>\n\n<p>That modal then sends the request to this <code>Create</code> action in my <code>Video</code> controller:</p>\n\n<pre><code>  def create\n    authorize! :read, @family_tree\n    @video = Video.new(video_params)\n\n    respond_to do |format|\n      if @video.save\n        format.html { redirect_to video_upload_path(@video) }\n        # format.json { render action: 'show', status: :created, location: @video }\n      else\n        format.html { render action: 'new' }\n        format.json { render json: @video.errors, status: :unprocessable_entity }\n      end\n    end\n  end\n</code></pre>\n\n<p>Which, if successful, then sends the request to this <code>Video#Upload</code> action:</p>\n\n<pre><code>  def upload\n    authorize! :read, @family_tree\n\n    @video = Video.find(params[:video_id])\n    @upload_info = Video.token_form(@video, video_save_video_url(@video))\n\n    respond_to do |format|\n        ## Note that I have been tinkering with this, but it doesn't work properly yet\n        format.html { redirect_to video_tag_users_path(@video, @node) } \n        format.js\n    end\n  end\n</code></pre>\n\n<p>Which first sends to the <code>video_save</code> in the assignment statement.</p>\n\n<p>Hope that provides clarity.</p>\n\n<p><strong>Edit 6</strong></p>\n\n<p>This is the contents of my <code>application.js</code></p>\n\n<pre><code>//= require jquery\n//= require jquery_ujs\n//= require best_in_place\n//= require bootstrap-sprockets\n//= require jquery-ui/datepicker\n//= require best_in_place.jquery-ui\n//= require jquery.purr\n//= require best_in_place.purr\n//= require bootstrap.file-input\n//= require chosen.jquery\n//= require main.js\n//= require spin.min\n//= require ladda.min\n//= require masonry.js\n//= require introjs\n//= require pnotify\n\n$(document).ready(function(){   \n    $(\"input.datepicker\").datepicker();\n      /* Activating Best In Place &amp;&amp; Include Success Highlighting &amp; Bounce for comments &amp; videos */\n        $(\".best_in_place\").best_in_place().bind(\"ajax:success\", function () {$(this).closest('p, h5').effect('highlight').effect(\"bounce\", { times:3 },  { duration:400}).dequeue(); });\n        $('.dropdown-toggle').dropdown();       \n      $('#unread-notification').click(function(){\n        var url = $(this).data('read-url');\n        $.ajax({\n          type: \"PUT\",\n          url: url\n        });\n      });   \n});\n</code></pre>\n\n<p><strong>Edit 7</strong></p>\n\n<p>Here is the server log after the first <code>create</code> is called:</p>\n\n<pre><code>Started POST \"/family_trees/57/videos\" for 127.0.0.1 at 2015-03-23 15:05:46 -0500\nProcessing by VideosController#create as JS\n  Parameters: {\"utf8\"=&gt;\"✓\", \"video\"=&gt;{\"title\"=&gt;\"Hello There\", \"description\"=&gt;\"This is an interesting video\", \"circa\"=&gt;\"\", \"user_ids\"=&gt;[\"\"]}, \"commit\"=&gt;\"Add Video\", \"family_tree_id\"=&gt;\"57\"}\n  User Load (15.9ms)  SELECT  \"users\".* FROM \"users\"  WHERE \"users\".\"id\" = 57  ORDER BY \"users\".\"id\" ASC LIMIT 1\n  FamilyTree Load (5.6ms)  SELECT  \"family_trees\".* FROM \"family_trees\"  WHERE \"family_trees\".\"user_id\" = $1 LIMIT 1  [[\"user_id\", 57]]\n  FamilyTree Load (2.2ms)  SELECT  \"family_trees\".* FROM \"family_trees\"  WHERE \"family_trees\".\"id\" = $1 LIMIT 1  [[\"id\", 57]]\n   (2.3ms)  SELECT COUNT(*) FROM \"roles\" INNER JOIN \"users_roles\" ON \"roles\".\"id\" = \"users_roles\".\"role_id\" WHERE \"users_roles\".\"user_id\" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [[\"user_id\", 57]]\n  Membership Load (1.8ms)  SELECT \"memberships\".* FROM \"memberships\"  WHERE \"memberships\".\"user_id\" = 57 AND \"memberships\".\"family_tree_id\" = 57\n   (2.6ms)  BEGIN\n  SQL (6.1ms)  INSERT INTO \"videos\" (\"created_at\", \"description\", \"title\", \"updated_at\") VALUES ($1, $2, $3, $4) RETURNING \"id\"  [[\"created_at\", \"2015-03-23 20:05:46.637067\"], [\"description\", \"This is an interesting video\"], [\"title\", \"Hello There\"], [\"updated_at\", \"2015-03-23 20:05:46.637067\"]]\n   (2.8ms)  COMMIT\nRedirected to http://localhost:3000/videos/177/upload\nCompleted 302 Found in 84ms (ActiveRecord: 39.2ms)\n\n\nStarted GET \"/videos/177/upload\" for 127.0.0.1 at 2015-03-23 15:05:46 -0500\nProcessing by VideosController#upload as JS\n  Parameters: {\"video_id\"=&gt;\"177\"}\n  User Load (2.6ms)  SELECT  \"users\".* FROM \"users\"  WHERE \"users\".\"id\" = 57  ORDER BY \"users\".\"id\" ASC LIMIT 1\n  FamilyTree Load (1.9ms)  SELECT  \"family_trees\".* FROM \"family_trees\"  WHERE \"family_trees\".\"user_id\" = $1 LIMIT 1  [[\"user_id\", 57]]\n   (1.3ms)  SELECT COUNT(*) FROM \"roles\" INNER JOIN \"users_roles\" ON \"roles\".\"id\" = \"users_roles\".\"role_id\" WHERE \"users_roles\".\"user_id\" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [[\"user_id\", 57]]\n  Membership Load (1.7ms)  SELECT \"memberships\".* FROM \"memberships\"  WHERE \"memberships\".\"user_id\" = 57 AND \"memberships\".\"family_tree_id\" = 57\n  Video Load (2.8ms)  SELECT  \"videos\".* FROM \"videos\"  WHERE \"videos\".\"id\" = $1 LIMIT 1  [[\"id\", 177]]\n  Rendered videos/_upload_video.html.erb (4.6ms)\n  Rendered videos/upload.js.erb (7.6ms)\nCompleted 200 OK in 344ms (Views: 23.7ms | ActiveRecord: 10.3ms)\n</code></pre>\n\n<p><strong>Edit 8</strong></p>\n\n<p><code>_upload_video.html.erb</code></p>\n\n<pre><code>&lt;div class=\"bootstrap-styles\" id=\"add-video-step-3\"&gt; \n &lt;div class=\"modal-header\"&gt;\n      &lt;div class=\"titles clearfix\"&gt;\n          &lt;h2&gt;Upload a Video&lt;/h2&gt;\n          &lt;p&gt;&lt;i&gt;Step 2 of 3&lt;/i&gt;&lt;/p&gt;\n      &lt;/div&gt;\n  &lt;/div&gt;\n  &lt;div class=\"modal-body\"&gt;\n    &lt;div class=\"content\"&gt;\n      &lt;%= form_tag @upload_info[:url], :multipart =&gt; true do %&gt;\n        &lt;%= hidden_field_tag :token, @upload_info[:token] %&gt;\n        &lt;div class=\"uploader clearfix\"&gt;\n                        &lt;%= file_field_tag :file, title: 'SELECT FILE TO UPLOAD', class: \"upload\" %&gt;\n        &lt;/div&gt;\n        &lt;button class=\"btn btn-success ladda-button\" data-color=\"green\" data-style=\"expand-left\"&gt;&lt;span class=\"ladda-label\"&gt;Upload Video&lt;/span&gt;&lt;span class=\"ladda-spinner\"&gt;&lt;/span&gt;&lt;/button&gt;\n      &lt;% end %&gt;\n\n    &lt;/div&gt;\n  &lt;/div&gt;\n  &lt;div class=\"modal-footer\"&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><code>upload.js.erb</code></p>\n\n<pre><code>$(\"#add-video-step-4\").html(\"&lt;%= escape_javascript(render 'videos/upload_video') %&gt;\");\n</code></pre>\n","ClosedDate":null,"CommentCount":42,"CommunityOwnedDate":null,"CreationDate":"2015-03-20T13:44:20.970Z","FavoriteCount":0,"LastActivityDate":"2015-03-24T22:08:57.283Z","LastEditDate":"2015-03-24T17:02:07.256Z","LastEditorDisplayName":null,"LastEditorUserId":91970,"OwnerUserId":91970,"ParentId":0,"PostTypeId":1,"Score":0,"Tags":"<javascript><jquery><ruby-on-rails><ruby-on-rails-4>","Title":"How do I render my JS erb?","ViewCount":352},{"Id":34443590,"AcceptedAnswerId":34444433,"AnswerCount":1,"Body":"<p>I have a script, <code>TemplateLoader.js</code> which loads 2 Mustache templates, and renders them on the page (or at least that's the goal).</p>\n\n<p>My directory structure:</p>\n\n<pre><code>COMP266\n    Unit 4\n        scripts\n            mustache.min.js\n            TemplateLoader.js\n        PageUsingTemplateLoader.html\n</code></pre>\n\n<p>Inside of <code>TemplateLoader</code> (the object), I have the following chunk to load Mustache, and render the templates:</p>\n\n<pre><code>$.getScript(\"./scripts/mustache.min.js\", function() {\n    $('head').html( Mustache.render(headTemplate, data) );\n    $('body').html( Mustache.render(bodyTemplate, data, uniqueBodyTemplate) );\n});\n</code></pre>\n\n<p>This however, yields the following error in the developer console:</p>\n\n<blockquote>\n  <p>HTTP404: NOT FOUND - The server has not found anything matching the requested URI (Uniform Resource Identifier).\n      (XHR): GET - <a href=\"http://localhost:63342/COMP266/Unit%204/mustache.min.js?_=1450903391318\" rel=\"nofollow\">http://localhost:63342/COMP266/Unit%204/mustache.min.js?_=1450903391318</a></p>\n</blockquote>\n\n<p>Oddly, it seems to have dropped the <code>script</code> folder completely from the path.</p>\n\n<p>I decided to play around, so I changed the fetch path to (duplicating the script folder):</p>\n\n<pre><code>./scripts/scripts/mustache.min.js\n</code></pre>\n\n<p>But this yields:</p>\n\n<blockquote>\n  <p>HTTP404: NOT FOUND - The server has not found anything matching the requested URI (Uniform Resource Identifier).\n  (XHR): GET - <a href=\"http://localhost:63342/COMP266/Unit%204/scripts/scripts/mustache.min.js?_=1450903743022\" rel=\"nofollow\">http://localhost:63342/COMP266/Unit%204/scripts/scripts/mustache.min.js?_=1450903743022</a></p>\n</blockquote>\n\n<p>Now it's listening! Unfortunately, this is obviously the wrong path.</p>\n\n<p>I have no idea how to go about debugging this. It seems like jQuery is selectively dropping the <code>scripts</code> folder. That seems ridiculous, but just to make sure, I searched through the jQuery source, and couldn't find anything that would be doing the observed filtering of the path.</p>\n\n<p>It's currently local, not hosted. </p>\n\n<p>Can anyone give me a hint about what's going on here?</p>\n","ClosedDate":null,"CommentCount":41,"CommunityOwnedDate":null,"CreationDate":"2015-12-23T20:55:46.640Z","FavoriteCount":0,"LastActivityDate":"2015-12-23T22:05:14.330Z","LastEditDate":"2015-12-23T21:05:37.900Z","LastEditorDisplayName":null,"LastEditorUserId":3000206,"OwnerUserId":3000206,"ParentId":0,"PostTypeId":1,"Score":0,"Tags":"<javascript><jquery>","Title":"jQuery blatantly ignoring the path I give to .getScript()","ViewCount":80},{"Id":27757666,"AcceptedAnswerId":0,"AnswerCount":1,"Body":"<p>I installed the \"selectize-rails\" gem into my rails app, and I'm trying to get it to work. I keep getting this error in my web console:</p>\n\n<pre><code>TypeError: $(...).selectize is not a function\n</code></pre>\n\n<p>and nothing happens in the browser. Here's the code I have so far, following the \"Email Contacts\" example from this page: <a href=\"http://brianreavis.github.io/selectize.js/\" rel=\"nofollow\">http://brianreavis.github.io/selectize.js/</a></p>\n\n<hr>\n\n<p><strong>views/emails/new.html.erb</strong></p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n\n\n  $(document).ready(function() {\n    console.log( typeof $.fn.selectize === 'function'); // true\n    console.log( $('#select-to').length === 1 ); // true\n\n    var REGEX_EMAIL = '([a-z0-9!#$%&amp;\\'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&amp;\\'*+/=?^_`{|}~-]+)*@' + '(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?)';\n\n    $('#select-to').selectize({\n      persist: false,\n      maxItems: null,\n      valueField: 'email',\n      labelField: 'name',\n      searchField: ['name', 'email'],\n      options: [ \n        {email: 'brian@thirdroute.com', name: 'Brian Reavis'},\n        {email: 'nikola@tesla.com', name: 'Nikola Tesla'},\n        {email: 'someone@gmail.com'}\n      ],\n      render: {\n        item: function(item, escape) {\n          return '&lt;div&gt;' +\n            (item.name ? '&lt;span class=\"name\"&gt;' + escape(item.name) + '&lt;/span&gt;' : '') +\n            (item.email ? '&lt;span class=\"email\"&gt;' + escape(item.email) + '&lt;/span&gt;' : '') +\n          '&lt;/div&gt;';\n        },\n        option: function(item, escape) {\n          var label = item.name || item.email;\n          var caption = item.name ? item.email : null;\n          return '&lt;div&gt;' +\n            '&lt;span class=\"label\"&gt;' + escape(label) + '&lt;/span&gt;' +\n            (caption ? '&lt;span class=\"caption\"&gt;' + escape(caption) + '&lt;/span&gt;' : '') +\n          '&lt;/div&gt;';\n        }\n      },\n      createFilter: function(input) {\n        var match, regex;\n\n        // email@address.com\n        regex = new RegExp('^' + REGEX_EMAIL + '$', 'i');\n        match = input.match(regex);\n        if (match) return !this.options.hasOwnProperty(match[0]);\n\n        // name &lt;email@address.com&gt;\n        regex = new RegExp('^([^&lt;]*)\\&lt;' + REGEX_EMAIL + '\\&gt;$', 'i');\n        match = input.match(regex);\n        if (match) return !this.options.hasOwnProperty(match[2]);\n\n        return false;\n      },\n      create: function(input) {\n        if ((new RegExp('^' + REGEX_EMAIL + '$', 'i')).test(input)) {\n          return {email: input};\n        }\n        var match = input.match(new RegExp('^([^&lt;]*)\\&lt;' + REGEX_EMAIL + '\\&gt;$', 'i'));\n        if (match) {\n          return {\n            email : match[2],\n            name : $.trim(match[1])\n          };\n        }\n        alert('Invalid email address.');\n        return false;\n      }\n    });\n  });\n&lt;/script&gt;\n</code></pre>\n\n<hr>\n\n<p><strong>application.html.erb</strong></p>\n\n<pre><code>&lt;head&gt;\n  &lt;%= stylesheet_link_tag    \"application\", media: \"all\", \"data-turbolinks-track\" =&gt; true %&gt;\n  &lt;%= javascript_include_tag \"application\", \"data-turbolinks-track\" =&gt; true %&gt;\n  &lt;%= csrf_meta_tags %&gt;\n  &lt;%= javascript_include_tag \"jquery.endless-scroll\" %&gt;\n  &lt;%= yield(:head) %&gt;\n&lt;/head&gt;\n</code></pre>\n\n<hr>\n\n<p><strong>javascripts/application.js</strong></p>\n\n<pre><code>//= require jquery\n//= require jquery_ujs\n//= require jquery-ui\n//= require bootstrap\n//= require turbolinks\n//= require selectize\n//= require_tree .\n</code></pre>\n\n<hr>\n\n<p>Selectize.js seems to be included in my application: <strong>this is the <code>&lt;head&gt;</code> from my page source</strong>:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;!--...--&gt;\n  &lt;link href=\"/assets/selectize.css?body=1\" media=\"screen\" rel=\"stylesheet\" /&gt;  \n  &lt;link data-turbolinks-track=\"true\" href=\"/assets/application.css?body=1\" media=\"all\" rel=\"stylesheet\" /&gt;\n&lt;link data-turbolinks-track=\"true\" href=\"/assets/custom.css?body=1\" media=\"all\" rel=\"stylesheet\" /&gt;\n&lt;link data-turbolinks-track=\"true\" href=\"/assets/jquery-ui.css?body=1\" media=\"all\" rel=\"stylesheet\" /&gt;\n&lt;link data-turbolinks-track=\"true\" href=\"/assets/jquery-ui.structure.css?body=1\" media=\"all\" rel=\"stylesheet\" /&gt;\n&lt;link data-turbolinks-track=\"true\" href=\"/assets/jquery-ui.theme.css?body=1\" media=\"all\" rel=\"stylesheet\" /&gt;\n&lt;link data-turbolinks-track=\"true\" href=\"/assets/users.css?body=1\" media=\"all\" rel=\"stylesheet\" /&gt;\n  &lt;script data-turbolinks-track=\"true\" src=\"/assets/jquery.js?body=1\"&gt;&lt;/script&gt;\n&lt;script data-turbolinks-track=\"true\" src=\"/assets/jquery_ujs.js?body=1\"&gt;&lt;/script&gt;\n&lt;script data-turbolinks-track=\"true\" src=\"/assets/jquery-ui.js?body=1\"&gt;&lt;/script&gt;\n&lt;script data-turbolinks-track=\"true\" src=\"/assets/bootstrap.js?body=1\"&gt;&lt;/script&gt;\n&lt;script data-turbolinks-track=\"true\" src=\"/assets/turbolinks.js?body=1\"&gt;&lt;/script&gt;\n&lt;script data-turbolinks-track=\"true\" src=\"/assets/sifter.js?body=1\"&gt;&lt;/script&gt;\n&lt;script data-turbolinks-track=\"true\" src=\"/assets/microplugin.js?body=1\"&gt;&lt;/script&gt;\n&lt;script data-turbolinks-track=\"true\" src=\"/assets/selectize.min.js?body=1\"&gt;&lt;/script&gt;\n&lt;script data-turbolinks-track=\"true\" src=\"/assets/jquery.color.js?body=1\"&gt;&lt;/script&gt;\n&lt;script data-turbolinks-track=\"true\" src=\"/assets/jquery.endless-scroll.js?body=1\"&gt;&lt;/script&gt;\n&lt;script data-turbolinks-track=\"true\" src=\"/assets/users.js?body=1\"&gt;&lt;/script&gt;\n&lt;script data-turbolinks-track=\"true\" src=\"/assets/application.js?body=1\"&gt;&lt;/script&gt;\n  &lt;meta content=\"authenticity_token\" name=\"csrf-param\" /&gt;\n&lt;meta content=\"KjspKaF93jfFsjf8jsoaisHSf=\" name=\"csrf-token\" /&gt;\n&lt;/head&gt;\n</code></pre>\n\n<hr>\n\n<p><strong>Gemfile</strong>:</p>\n\n<pre><code>source 'https://rubygems.org'\nruby '2.0.0'\n\ngem 'rails', '4.0.10'\ngem 'bootstrap-sass', '~&gt; 2.3.2.0'\ngem 'sprockets', '~&gt; 2.12'\ngem 'chosen-rails'\ngem 'bcrypt', '~&gt; 3.1.7'\ngem 'therubyracer'\ngem 'sass-rails', '4.0.5'\ngem 'uglifier', '~&gt; 2.1.1'\ngem 'coffee-rails', '~&gt; 4.0.1'\ngem 'jquery-rails', '~&gt; 2.3.0'\ngem 'turbolinks', '~&gt; 1.1.1'\ngem 'jbuilder', '~&gt; 1.0.2'\ngem 'libv8', '3.16.14.7'\ngem 'yaml_db_improved'\ngem 'selectize-rails'\n\ngroup :development, :test do\n  gem 'sqlite3', '~&gt; 1.3.8'\n  gem 'rspec-rails', '~&gt; 2.13.1'\nend\n\ngroup :test do\n  gem 'selenium-webdriver', '~&gt; 2.35.1'\n  gem 'capybara', '~&gt; 2.1.0'\nend\n\ngroup :doc do\n  gem 'sdoc', '~&gt; 0.3.20', require: false\nend\n\ngroup :production do\n  gem 'rails_12factor', '~&gt; 0.0.2'\nend\n</code></pre>\n\n<hr>\n\n<p><strong>config/environments/production.rb</strong>:</p>\n\n<pre><code>Website::Application.configure do\n  config.cache_classes = true\n  config.eager_load = true\n  config.consider_all_requests_local       = false\n  config.action_controller.perform_caching = true\n  config.serve_static_assets = false\n  config.assets.js_compressor = :uglifier\n  config.assets.compile = false\n  config.assets.digest = true\n  config.assets.version = '1.0'\n  config.log_level = :info\n  config.i18n.fallbacks = true\n  config.active_support.deprecation = :notify\n  config.log_formatter = ::Logger::Formatter.new\nend\n</code></pre>\n\n<hr>\n\n<p><strong>config/environments/development.rb</strong>:</p>\n\n<pre><code>Website::Application.configure do\n  config.cache_classes = false\n  config.eager_load = false\n  config.consider_all_requests_local       = true\n  config.action_controller.perform_caching = false\n  config.action_mailer.raise_delivery_errors = false\n  config.active_support.deprecation = :log\n  config.active_record.migration_error = :page_load\n  config.assets.debug = true\nend\n</code></pre>\n\n<hr>\n\n<p><strong>config/application.rb</strong>:</p>\n\n<pre><code>require File.expand_path('../boot', __FILE__)\n\nrequire \"active_record/railtie\"\nrequire \"action_controller/railtie\"\nrequire \"action_mailer/railtie\"\nrequire \"sprockets/railtie\"\n\nBundler.require(*Rails.groups)\n\nmodule Website\n  class Application &lt; Rails::Application\n\n    config.assets.precompile += %w(*.png *.jpg *.jpeg *.gif)\n  end\nend\n</code></pre>\n\n<hr>\n\n<p>Does anyone who has used Selectize know what I might be missing?</p>\n\n<p><strong>UPDATE:</strong> </p>\n\n<p>It gets weirder: <a href=\"http://stackoverflow.com/questions/27889930/error-prone-code-randomly-started-working-but-then-broke-again-upon-refresh\">Error-prone code randomly started working, but then broke again upon refresh</a></p>\n","ClosedDate":null,"CommentCount":41,"CommunityOwnedDate":null,"CreationDate":"2015-01-03T17:40:19.383Z","FavoriteCount":1,"LastActivityDate":"2015-01-13T10:40:51.106Z","LastEditDate":"2015-01-13T10:40:51.106Z","LastEditorDisplayName":null,"LastEditorUserId":3739453,"OwnerUserId":3739453,"ParentId":0,"PostTypeId":1,"Score":3,"Tags":"<javascript><jquery><ruby-on-rails><gem><selectize.js>","Title":"TypeError: $(...).selectize is not a function","ViewCount":2147},{"Id":33816644,"AcceptedAnswerId":33816974,"AnswerCount":2,"Body":"<p>I am using the same validation function to validate all data on the system. It can be sent data of any type. The function is sent both a value to validate and a query to search the database for which regular expressions it needs to validate the value against.</p>\n\n<p>Is it possible to validate the <em>type</em> of a value with a regular expression that is pulled from the database? Currently I am using the same regular expression pulled from the database to validate both the front-end and the back-end. </p>\n\n<p>For PHP, I am using <code>preg_match</code> to test whether the value is a boolean.<br>\nFor JavaScript, I am using the <code>test</code> method to validate if a value is a boolean.  </p>\n\n<p>I have tried:</p>\n\n<pre><code>$val = true;\npreg_match(\"^(true|false)$\", $val);\n</code></pre>\n\n<p>But, I cannot get the same regular expression to work in both PHP and JavaScript:</p>\n\n<pre><code>\"^(true|false)$\" = works in JS, fails in PHP\n\"^(0|1)$\" = works in PHP, fails in JS\n</code></pre>\n\n<hr>\n\n<p><strong>Why am I doing this with a regular expression?</strong> Because this is how the system is currently built and I'd like to keep it this way. Boolean is one case of many which can be passed to the validation function. Re-doing loads of work is not an option.</p>\n\n<hr>\n\n<p>Again, I am re-using the same regular expression to validate both the front-end and the back-end. The regular expression is being pulled from the database where it is stored as a string. The system has been successfully validating strings, but I'm having issues validating booleans with the same logic on the front-end as the back-end. Without redoing loads of work, what kind of simple change can I implement into my regular expression so it can validate both strings and booleans?</p>\n","ClosedDate":"2015-11-20T00:37:23.406Z","CommentCount":40,"CommunityOwnedDate":null,"CreationDate":"2015-11-19T23:59:30.263Z","FavoriteCount":1,"LastActivityDate":"2015-11-27T09:11:40.953Z","LastEditDate":"2015-11-27T09:11:40.953Z","LastEditorDisplayName":null,"LastEditorUserId":466314,"OwnerUserId":749657,"ParentId":0,"PostTypeId":1,"Score":-3,"Tags":"<javascript><php><regex>","Title":"Check if a value is boolean with the same regex in both PHP and JavaScript?","ViewCount":91}]