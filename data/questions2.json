[{"Id":27727429,"AcceptedAnswerId":27749886,"AnswerCount":1,"Body":"<p>I'm isArray having problems getting some setup code executed when my extension is installed. I'm using chrome.runtime.onInstalled as suggested by Chrome Developers' page, but it is not firing. It seems that the issue is related with the use of Require.JS. This is my code:</p>\n\n<pre><code> isArray requirejs.config({...});// i'll not reproduce the whole config here for brevity\n\n// Define the Global Object that will hold the extension functionality\nvar EXT = EXT || {};\n\n// Start the main app logic.\n\nrequirejs(['chrome.storage', 'chrome.settings', 'chrome.tabs'],\nfunction (chromeStorage, chromeSettings, chromeTabs) {\n    'use strict';\n\n    var getLocalRepos;\n\n    /**\n     * Executes the callback with an array of repositories as the parameter.\n     * @param {function} callback\n     */\n    getLocalRepos = function (callback) {\n        'use strict';\n\n        chromeStorage.get('localRepos', callback);\n    };\n\n    // Take care of the extension lifecycle.\n    chrome.runtime.onInstalled.addListener(function (details) {\n        \"use strict\";\n\n        // Create dummy data to populate the local storage for testing purposes.\n        var dummyData = [\n            {\n                name: 'repo1',\n                description: 'description1',\n                username: 'reydel',\n                age: 'theAge'\n            },\n            {\n                name: 'repo2',\n                description: 'description2',\n                username: 'reydel',\n                age: 'theAge'\n            }\n        ];\n\n        switch (details.reason) {\n            case 'install':\n                chromeStorage.set({ localRepos: dummyData }, function () {\n                    // Do nothing\n                });\n                break;\n        }\n    });\n\n    // Bind all functions to an object in the Global Space to make them accessible from the outside scripts\n    // referencing the BackgroundPage object\n    window.EXT.getLocalRepos = getLocalRepos;\n});\n</code></pre>\n\n<p>I have used the code inside the listener's callback in the console and it works, it's just that the event is not being triggered.</p>\n\n<p>Any ideas on how to solve this? Someone have done it before?</p>\n","ClosedDate":null,"CommentCount":0,"CommunityOwnedDate":null,"CreationDate":"2015-01-01T00:10:29.963Z","FavoriteCount":1,"LastActivityDate":"2015-01-02T23:19:09.283Z","LastEditDate":null,"LastEditorDisplayName":null,"LastEditorUserId":0,"OwnerUserId":1743377,"ParentId":0,"PostTypeId":1,"Score":1,"Tags":"<javascript><google-chrome><events><google-chrome-extension><requirejs>","Title":"How to get isArray chrome.runtime.onInstalled to fire when browser using Require.JS in Chrome extension","ViewCount":443}]